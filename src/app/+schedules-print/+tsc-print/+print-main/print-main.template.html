<div class="panel panel-transparent py-2" [ngClass]="fontSizeClass">
  <div class="row pb-2 separate-border">
    <!-- <div class="col-lg-12 col-xl-6 m-b-10 searchForm">
      <div class="input-icon">
        <input-debounce placeholder="Search by cust po #, retail po#, customer, design #, design"
                        data-toggle="tooltip" data-placement="top"
                        title="Search by cust po #, retail po#, customer, design #, design"
                        (value)="onSearchChanged($event)"></input-debounce>
      </div>
    </div> -->
    <div class="col-lg-12 col-xl-12">
      <collapse-panel [formValue]="searchedObj">
        <div class="row">
          <form role="form" [formGroup]="frm" novalidate="" (ngSubmit)="onFilter()" (click)="formClick($event)">
            <div class="col-lg-6 col-xl-6 left px-1">
              <div class="row">
                <div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-4 col-lg-5">
                      <span class="right">Customer:</span>
                    </div>
                    <div class="col-8 col-sm-8 col-lg-7">
                      <input type="text"
                             name="customer"
                             placeholder="Customer Name"
                             formControlName='customer'
                             class="form-control">
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-4 col-lg-5">
                      <span class="right">Style Name:</span>
                    </div>
                    <div class="col-8 col-sm-8 col-lg-7">
                      <input type="text"
                             name="styleName"
                             placeholder="Style Name"
                             formControlName='styleName'
                             class="form-control">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-4 col-lg-5">
                      <span class="right nowrap">PO #:</span>
                    </div>
                    <div class="col-8 col-sm-8 col-lg-7">
                      <input type="text"
                             name="poId"
                             placeholder="PO #"
                             formControlName='poId'
                             class="form-control">
                    </div>
                  </div>
                </div>
                <!--<div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">-->
                  <!--<div class="row align-items-center">-->
                    <!--<div class="col-4 col-sm-4 col-lg-5">-->
                      <!--<span class="right">Partner Style:</span>-->
                    <!--</div>-->
                    <!--<div class="col-8 col-sm-8 col-lg-7">-->
                      <!--<input type="text"-->
                             <!--name="partnerStyle"-->
                             <!--placeholder="Partner Style"-->
                             <!--formControlName='partnerStyle'-->
                             <!--class="form-control">-->
                    <!--</div>-->
                  <!--</div>-->
                <!--</div>-->
              </div>
              <!--<div class="row">-->
                <!--<div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">-->
                  <!--<div class="row align-items-center">-->
                    <!--<div class="col-4 col-sm-4 col-lg-5">-->
                      <!--<span class="right nowrap">Retailer PO #:</span>-->
                    <!--</div>-->
                    <!--<div class="col-8 col-sm-8 col-lg-7">-->
                      <!--<input type="text"-->
                             <!--name="retailerPo"-->
                             <!--placeholder="Retailer PO #"-->
                             <!--formControlName='retailerPoId'-->
                             <!--class="form-control">-->
                    <!--</div>-->
                  <!--</div>-->
                <!--</div>-->
              <!--</div>-->
            </div>
            <div class="col-lg-6 col-xl-6 right px-1">
              <div class="row m-l-15">
                <div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-4">
                      <span class="right nowrap">Schedule:</span>
                    </div>
                    <div class="col-8 col-sm-8">
                      <ng-select [items]="printDateSelect" #printSelect
                                 [clearable]="false"
                                 [placeholder]="'Schedule'"
                                 [searchable]="false"
                                 (focus)="onSelectFocused(printSelect)"
                                 bindLabel="text"
                                 bindValue="text"
                                 formControlName="printDate"></ng-select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row m-b-5" *ngIf="frm.get('printDate').value === 'Custom'">
                <div class="col-2 col-sm-2">
                  <span class="right nowrap m-t-5">Schedule Date:</span>
                </div>
                <div class="p-l-5"
                     [ngClass]="{'has-error':!frm.get('schedDateFromOnUtc').valid}">
                  <my-date-picker [options]="dateBeginOptions" name="dateBegin"
                                  (dateChanged)="onDateChanged($event, 'schedDateFromOnUtc')"
                                  formControlName='schedDateFrom'
                                  #dateBeginPicker
                                  [defaultMonth]="myDatePickerService.configDefaultMonth(frm.get('schedDateTo').value, true)"
                                  (inputFieldChanged)="myDatePickerService.onInputFieldChanged($event, dateBeginPicker)"
                                  (inputFocusBlur)="myDatePickerService.onInputFocusBlur($event, dateBeginPicker, frm.get('schedDateFromOnUtc'))"></my-date-picker>
                  <label class="error nowrap"
                         *ngIf="frm.get('schedDateFromOnUtc').hasError('required') && !frm.get('schedDateFromOnUtc').pristine">
                    {{validationMessages['default'].required}}</label>
                  <label class="error nowrap"
                         *ngIf="frm.get('schedDateFromOnUtc').hasError('maxDate') && !frm.get('schedDateFromOnUtc').pristine">
                    {{validationMessages['schedDateFromOnUtc'].maxLength}}</label>
                </div>
                <div class="flex center">
                  <span class="px-2 m-t-4">to</span>
                </div>
                <div class="end-date"
                     [ngClass]="{'has-error':!frm.get('schedDateToOnUtc').valid}">
                  <my-date-picker [options]="dateEndOptions" name="dateEnd"
                                  (dateChanged)="onDateChanged($event, 'schedDateToOnUtc')"
                                  formControlName='schedDateTo'
                                  #dateEndPicker
                                  [defaultMonth]="myDatePickerService.configDefaultMonth(frm.get('schedDateFrom').value)"
                                  (inputFieldChanged)="myDatePickerService.onInputFieldChanged($event, dateEndPicker)"
                                  (inputFocusBlur)="myDatePickerService.onInputFocusBlur($event, dateEndPicker, frm.get('schedDateToOnUtc'))"></my-date-picker>
                  <label class="error nowrap"
                         *ngIf="frm.get('schedDateToOnUtc').hasError('required') && !frm.get('schedDateToOnUtc').pristine">
                    {{validationMessages['default'].required}}</label>
                  <label class="error nowrap"
                         *ngIf="frm.get('schedDateToOnUtc').hasError('minDate') && !frm.get('schedDateToOnUtc').pristine">
                    {{validationMessages['schedDateToOnUtc'].maxLength}}</label>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6 col-lg-6 col-xl-6 m-b-5">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-4">
                      <span class="right nowrap">Mach # / Vendor:</span>
                    </div>
                    <div class="col-8 col-sm-8">
                      <ng-select [items]="machineList" #multimachine
                                 [multiple]="true"
                                 [closeOnSelect]="false"
                                 [hideSelected]="true"
                                 [placeholder]="'Mach # / Vendor'"
                                 (focus)="onSelectFocused(multimachine)"
                                 bindLabel="name"
                                 bindValue="name"
                                 [(ngModel)]="searchObj.machine"
                                 [ngModelOptions]="{standalone: true}"></ng-select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row m-b-5">
                <div class="col-2 col-sm-2">
                  <span class="right nowrap m-t-5">Cancel Date:</span>
                </div>
                <div class="p-l-5"
                     [ngClass]="{'has-error':!frm.get('cancelDateFromOnUtc').valid}">
                  <my-date-picker class="flex" [options]="cancelDateBegin" name="cancelDateBegin"
                                  (dateChanged)="onDateChanged($event, 'cancelDateFromOnUtc')"
                                  formControlName='cancelDateFrom'
                                  #cancelDateBeginPicker
                                  [defaultMonth]="myDatePickerService.configDefaultMonth(frm.get('cancelDateTo').value, true)"
                                  (inputFieldChanged)="myDatePickerService.onInputFieldChanged($event, cancelDateBeginPicker)"
                                  (inputFocusBlur)="myDatePickerService.onInputFocusBlur($event, cancelDateBeginPicker, frm.get('cancelDateFromOnUtc'))"></my-date-picker>
                  <label class="error nowrap"
                         *ngIf="frm.get('cancelDateFromOnUtc').hasError('maxDate') && !frm.get('cancelDateFromOnUtc').pristine">
                    {{validationMessages['cancelDateFromOnUtc'].maxLength}}</label>

                </div>
                <div class="flex center">
                  <span class="px-2 m-t-4">to</span>
                </div>
                <div class="end-date"
                     [ngClass]="{'has-error':!frm.get('cancelDateToOnUtc').valid}">
                  <my-date-picker class="flex" [options]="cancelDateEnd" name="cancelDateEnd"
                                  (dateChanged)="onDateChanged($event, 'cancelDateToOnUtc')"
                                  formControlName='cancelDateTo'
                                  #cancelDateEndPicker
                                  [defaultMonth]="myDatePickerService.configDefaultMonth(frm.get('cancelDateFrom').value)"
                                  (inputFieldChanged)="myDatePickerService.onInputFieldChanged($event, cancelDateEndPicker)"
                                  (inputFocusBlur)="myDatePickerService.onInputFocusBlur($event, cancelDateEndPicker, frm.get('cancelDateToOnUtc'))"></my-date-picker>
                  <label class="error nowrap"
                         *ngIf="frm.get('cancelDateToOnUtc').hasError('minDate') && !frm.get('cancelDateToOnUtc').pristine">
                    {{validationMessages['cancelDateToOnUtc'].maxLength}}</label>

                </div>
              </div>
            </div>
            <div class="col-lg-12 col-xl-12 left px-1">
              <div class="row">
                <div class="col-lg-12 center m-t-10">
                  <button class="btn btn-primary center" type="submit">Search</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </collapse-panel>
      <div class="row">
        <div class="col-lg-12 m-t-10 min-h-25">
          <p class="total-sched">{{sumSched}} scheduled items</p>
          <ng-template [ngIf]="!isFilter || !isNoData">
            <a class="pull-left m-l-200" href="javascript:void(0)" (click)="exportOrder('pdf')">
              <i class="fa fa-file-pdf-o fa-2x text-danger" aria-hidden="true"></i>
            </a>
            <div class="mx-1 pull-left">
              <div ngbDropdown class="d-inline-block" #myFontDrop="ngbDropdown"
                   class="select-size-dropdown"
                   placement="bottom-right"
                   (clickOutside)="myFontDrop.close();"
                   [attachOutsideOnClick]="true">
                <i class="fa fa-font fa-2x cursor" id="dropdown5" ngbDropdownToggle></i>
                <div ngbDropdownMenu aria-labelledby="dropdown5">
                  <button class="dropdown-item" *ngFor="let item of fontSizeData"
                          [ngClass]="{'active': item === myConfigStyle['font-size']}"
                          (click)="changeFontSize(item);myFontDrop.close();" type="button">{{item}}
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!isShowAllColumns" ngbDropdown class="select-column-dropdown select-columns pull-left m-l-40 m-r-10" #myDrop="ngbDropdown"
                  placement="bottom-right"
                  (openChange)="onChangeShowHideColumn($event)"
                  (clickOutside)="myDrop.close()"
                  [attachOutsideOnClick]="true">
              <i class="fa fa-sliders fa-2x cursor" id="dropdown4" ngbDropdownToggle></i>
              <div ngbDropdownMenu aria-labelledby="dropdown4">
                <div class="col-12 px-1">
                  <div class="checkbox">
                    <input type="checkbox" id="all-options4" [checked]="isCheckedAll"
                            (change)="onCheckedColsAll($event)">
                    <label [style.margin-bottom]="'.2rem'" for="all-options4">All</label>
                  </div>
                </div>
                <div class="divider"></div>
                <div class="">
                  <div class="col-12 px-1" *ngFor="let col of showHideColumns; let i = index">
                    <div class="checkbox">
                      <input type="checkbox"
                              [id]="'col-' + i"
                              [name]="'col-' + i"
                              [(ngModel)]="col.isView"
                              (change)="changeCheckedCol($event)">
                      <label [for]="'col-' + i">{{col.description}}</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="pull-left m-t-5">
              <a href="javascript:void(0)" *ngIf="!isShowAllColumns"
                  (click)="showAllColumns(true)">Show All Columns</a>
              <a href="javascript:void(0)" *ngIf="isShowAllColumns"
                  (click)="showAllColumns(false)">Show My Columns</a>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  <div class="py-2" *ngIf="isFilter && isNoData && (!isOnLateTab || !lateJobData.length)">
    <span style="font-size: 16px">No styles are scheduled that match your search criteria.</span>
  </div>
  <!--Days tab-->
  <ul class="nav nav-tabs m-t-20 m-b-10 days-tab" *ngIf="!isFilter || !isNoData || (isOnLateTab && lateJobData.length)">
    <li class="text-center nav-item" *ngFor="let tab of daysTab; let i=index" [dragula]='"bag-one"'
        [ngClass]="{'active': tab.isActive}"
        (click)="setDaysTab(i)"
        [id]="'days-tab-' + i">
      <a class="justify-center nav-link" href="javascript:void(0)" aria-expanded="true">
        <span>{{tab.date ? (tab.date | amDateFormat: 'ddd M/D') : 'Late'}}</span>
      </a>
    </li>
  </ul>
  <perfect-scrollbar [config]="{suppressScrollX: false}" (psScrollX)="onScrollX($event)">
    <table class="table" border="1px" *ngIf="!isFilter || !isNoData || (isOnLateTab && lateJobData.length)">
      <thead>
      <tr>
        <th>Mach #</th>
        <th *ngIf="getIsViewColumn(colProp[0])">Cust / <br/> PO #</th>
        <th *ngIf="getIsViewColumn(colProp[1])">Rerun / <br/> New</th>
        <th *ngIf="getIsViewColumn(colProp[2])">Cut <br/> Ticket #</th>
        <th *ngIf="getIsViewColumn(colProp[3])">Design # <br/> Description</th>
        <th *ngIf="getIsViewColumn(colProp[4])">Garment Style / <br/> Color</th>
        <th *ngIf="getIsViewColumn(colProp[5])">Print <br/> Location</th>
        <th *ngIf="getIsViewColumn(colProp[6])"># of Print <br/> Colors</th>
        <th *ngIf="getIsViewColumn(colProp[7])" style="min-width: 85px">Qty (Pcs)</th>
        <th *ngIf="getIsViewColumn(colProp[8])">Setup / <br/> Run Time</th>
        <th *ngIf="getIsViewColumn(colProp[9])">Actual Run Time</th>
        <th *ngIf="getIsViewColumn(colProp[10])">Blank Goods <br/> ETA</th>
        <th *ngIf="getIsViewColumn(colProp[11])">Start / <br/> Cancel <br/> Ship Date</th>
        <th *ngIf="getIsViewColumn(colProp[12])">Neck Label <br/> Date</th>
        <th *ngIf="getIsViewColumn(colProp[13])">Finishing <br/> Date</th>
        <th *ngIf="getIsViewColumn(colProp[14])" style="min-width: 80px">Status</th>
        <th *ngIf="getIsViewColumn(colProp[15])">Comments</th>
        <th></th>
      </tr>
      <tr class="fixedHeader" [hidden]="!fixedHeader">
        <th>Mach #</th>
        <th *ngIf="getIsViewColumn(colProp[0])">Cust / <br/> PO #</th>
        <th *ngIf="getIsViewColumn(colProp[1])">Rerun / <br/> New</th>
        <th *ngIf="getIsViewColumn(colProp[2])">Cut <br/> Ticket #</th>
        <th *ngIf="getIsViewColumn(colProp[3])">Design # <br/> Description</th>
        <th *ngIf="getIsViewColumn(colProp[4])">Garment Style / <br/> Color</th>
        <th *ngIf="getIsViewColumn(colProp[5])">Print <br/> Location</th>
        <th *ngIf="getIsViewColumn(colProp[6])"># of Print <br/> Colors</th>
        <th *ngIf="getIsViewColumn(colProp[7])">Qty (Pcs)</th>
        <th *ngIf="getIsViewColumn(colProp[8])">Setup / <br/> Run Time</th>
        <th *ngIf="getIsViewColumn(colProp[9])">Actual Run Time</th>
        <th *ngIf="getIsViewColumn(colProp[10])">Blank Goods <br/> ETA</th>
        <th *ngIf="getIsViewColumn(colProp[11])">Start / <br/> Cancel <br/> Ship Date</th>
        <th *ngIf="getIsViewColumn(colProp[12])">Neck Label <br/> Date</th>
        <th *ngIf="getIsViewColumn(colProp[13])">Finishing <br/> Date</th>
        <th *ngIf="getIsViewColumn(colProp[14])">Status</th>
        <th *ngIf="getIsViewColumn(colProp[15])">Comments</th>
        <th></th>
      </tr>
      </thead>
      <tbody [dragula]='"bag-one"'>
      <ng-template ngFor let-dayData [ngForOf]="tableData" let-i="index">
        <ng-template ngFor let-rowData [ngForOf]="dayData.data" let-ii="index">
          <ng-template ngFor let-machineData [ngForOf]="rowData.machineData" let-iii="index">
            <tr *ngIf="!ii && !iii" class="header-daytime">
              <td [ngClass]="{'red-cell': isOnLateTab}" [attr.colspan]="totalColspan.first + totalColspan.second + 3">
                  {{dayData.date | amDateFormat: 'dddd' | uppercase}},
                  {{ dayData.date | amDateFormat: 'MM/DD/YYYY'}}
              </td>
            </tr>
            <tr [id]="i + '-' + ii + '-' + iii"
                *ngIf="!machineData || (machineData && !machineData.isMaintenanceJob)"
                [ngClass]="{'archived-cell': machineData && machineData.isArchived}">
              <!-- <td [rowSpan]="dayData.totalRecord" *ngIf="!ii && !iii" class="print-date-style">
                {{dayData.date | amDateFormat: 'dddd' | uppercase}} <br/><br/>
                {{dayData.date | amDateFormat: 'MM/DD/YYYY'}} <br/><br/>
                <button *ngIf="isShowTeamConfig" class="btn btn-complete btn-small m-t-10 team-config" (click)="teamConfig(dayData.date)">
                  Team Config
                </button>
              </td> -->
              <td [rowSpan]="rowData.machineData.length" *ngIf="!iii">
                <span>{{rowData.machineName}}</span><br/><br/>
                <button *ngIf="isShowTeamConfig && !isOnLateTab" class="btn btn-complete btn-small" (click)="teamConfig(dayData.date, rowData.machineId, rowData.machineData)">
                  Team Config
                </button>
              </td>

              <td *ngIf="machineData && getIsViewColumn(colProp[0])">
                <p class="p-link" (click)="goToOrderInfo(machineData.orderId)">{{machineData.customerName}}<span
                  *ngIf="machineData.customerName && machineData.customerPoId"><br/>#</span>
                  {{machineData.customerPoId}}</p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[0])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[1])">
                <p>{{machineData.isRerun ? 'RERUN' : 'NEW'}}</p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[1])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[2])">
                <p>{{machineData.cutTicketProduction}}</p>
                <p *ngIf="machineData.isUploadedCutTicketProduction"
                  class="p-eyes"
                  (click)="openUploader(machineData.orderDetailId, styleUploadedType.ProductionPO, 'Production PO - Cut Ticket')">
                  <i class="fa fa-eye fa-lg" [ngStyle]="{'top': '-1px'}" aria-hidden="true"></i>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[2])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[3])">
                <p (click)="goToStyle(machineData.orderId, machineData.orderDetailId)" class="p-link">
                  {{machineData.partnerStyle}}
                  <span class="m-t-5" style="display: block"></span>
                  {{machineData.styleName}}
                  <span class="m-t-5" style="display: block"></span>
                  {{machineData.units >= 0 ? (machineData.units + ' units') : ''}}
                  <ng-container *ngIf="machineData.licensorName">
                    <span class="m-t-5" style="display: block"></span>
                    ({{machineData.licensorName}})
                  </ng-container>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[3])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[4])">
                <p>{{machineData.garmentStyle}}</p>
                <p class="m-t-5">{{machineData.color}}</p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[4])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[5])">
                <p class="p-link"
                  (click)="goToPrintLocation(machineData.orderId, machineData.orderDetailId, machineData.printLocationId, null)">
                  {{machineData.locationName}}</p>
                <img class="img-thumbnail-none-wh cursor" [src]="machineData?.imageUrl" height="50" width="50"
                    imgZoomClick
                    *ngIf="machineData?.imageUrl"/>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[5])"></td>

              <td *ngIf="getIsViewColumn(colProp[6])">
                <p>
                  {{machineData?.printColors}}
                </p>
                <a *ngIf="machineData && machineData.printLocationId" class="m-t-10" href="javascript:void(0)" (click)="exportPrintLocation('pdf', machineData)">
                  <i class="fa fa-file-pdf-o fa-2x text-danger" aria-hidden="true"></i>
                </a>
              </td>

              <td *ngIf="machineData && getIsViewColumn(colProp[7])" style="position: relative;" [ngClass]="{'red-cell': machineData.isLateOriginal && !machineData.isArchived, 'resched-cell': machineData.isLateRescheduled && !machineData.isArchived, 'archived-cell': machineData.isArchived}">
                <p>{{machineData.units}}</p>
                <p class="m-t-5" *ngIf="machineData.scheduledQty > 0">{{machineData.scheduledQty}} sched.
                  <i class="fa fa-times cursor py-1" aria-hidden="true" (click)="removeLateJob(machineData)"
                      *ngIf="!isPageReadOnly && isAllowDrag && !machineData.isArchived && !machineData.isEnteredQty"
                      title="Click to Remove"></i>
                </p>
                <p class="m-t-5">
                  {{machineData.completedQty}} {{machineData.isJobConfirmed ? 'conf' : 'complt'}}.
                </p>
                <button class="btn btn-yellow btn-small m-t-10"
                        *ngIf="machineData && machineData.processStatus === 1"
                        >Job Started
                </button>
                <button class="btn btn-orange btn-small m-t-10"
                        *ngIf="machineData && (machineData.processStatus === 2 || machineData.processStatus === 8)"
                        >Job Pending
                </button>
                <button class="btn btn-green btn-small m-t-10"
                        *ngIf="machineData && machineData.processStatus >= 3 && machineData.processStatus < 7"
                        >Job Completed
                </button>
                <button class="btn btn-yellow btn-small m-t-10"
                        *ngIf="machineData && machineData.processStatus === 7"
                        >Job Paused
                </button>
                <p class="move-icon"
                  *ngIf="!isPageReadOnly && isAllowDrag && !machineData.isArchived && !machineData.isEnteredQty">
                  <i class="fa fa-lg fa-arrows" aria-hidden="true"></i>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[7])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[8])" [title]="!isPageReadOnly ? 'Click to Edit' : ''" #runTime>
                <span [ngClass]="{'p-link': !isPageReadOnly && !machineData.isArchived}" (click)="showInput(runTime, 0, machineData.isArchived)">ST: {{machineData.setuptime ? ((machineData.setuptime / 60) | hrsToHrsMin) : 0}}</span>
                <input #setupTimeInput FloatNumber
                      class="runTimeInput"
                      [hidden]="true"
                      [value]="machineData.setuptime"
                      (keyup)="invalidNumber(setupTimeInput.value, 0)"
                      (keyup.esc)="setupTimeInput.value = machineData.setuptime; setupTimeInput.blur();"
                      (keyup.enter)="setupTimeInput.blur()"
                      (blur)="updateRunTime(setupTimeInput, runTime, i, ii, iii, 0)"/>
                <!-- <span *ngIf="machineData.setuptime === null">0.0</span> -->
                <br/>
                <span [ngClass]="{'p-link': !isPageReadOnly && !machineData.isArchived}"
                      (click)="configRuntime(machineData)">
                  RT: {{machineData.runtime | hrsToHrsMin}}
                </span>
                <!--<span *ngIf="machineData.runtime !== null" [ngClass]="{'p-link': !isPageReadOnly}"-->
                      <!--(click)="showInput(runTime, 1)">RT: {{machineData.runtime ? machineData.runtime : 0.0}} hrs</span>-->
                <!--<input #runTimeInput FloatNumber-->
                      <!--class="runTimeInput"-->
                      <!--[hidden]="true"-->
                      <!--[value]="machineData.runtime"-->
                      <!--(keyup)="invalidNumber(runTimeInput.value, 1)"-->
                      <!--(keyup.esc)="runTimeInput.value = machineData.runtime; runTimeInput.blur();"-->
                      <!--(keyup.enter)="runTimeInput.blur()"-->
                      <!--(blur)="updateRunTime(runTimeInput, runTime, i, ii, iii, 1)"/>-->
                <!-- <span *ngIf="machineData.runtime === null">0.0</span> -->
                <p class="m-t-10" [ngClass]="{'red': machineData.setuptime / 60 + machineData.runtime > 10.75}">
                  Total: {{(machineData.setuptime / 60 + machineData.runtime) | hrsToHrsMin}}</p>
                <span class="text-danger" style="display: block" *ngIf="invalidNumber(setupTimeInput.value, 0) === 1">
                  Invalid number!
                </span>
                <span class="text-danger" style="display: block" *ngIf="invalidNumber(setupTimeInput.value, 0) === 2">
                  Start Time cannot exceed 120 minutes!
                </span>
                <!--<span class="text-danger" style="display: block" *ngIf="invalidNumber(runTimeInput.value, 1) === 1">-->
                  <!--Invalid number!-->
                <!--</span>-->
                <!--<span class="text-danger" style="display: block" *ngIf="invalidNumber(runTimeInput.value, 1) === 2">-->
                  <!--Run Time cannot exceed 100 hours!-->
                <!--</span>-->
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[8])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[9])">
                <p *ngIf="machineData.processStatus <= 1 && !machineData.stoppedSetupTimeOnUtc && !machineData.isMovedToTomorrow">Setup ETA: {{machineData.setupETA | amDateFormat: 'hh:mm A'}}</p>
                <p *ngIf="machineData.stoppedSetupTimeOnUtc && !machineData.isMovedToTomorrow">Setup Completed: {{machineData.stoppedSetupTimeOnUtc | amDateFormat: 'hh:mm A'}}</p>
                <p *ngIf="machineData.processStatus === 7 || machineData.processStatus < 3" [ngStyle]="machineData.processStatus < 3 && checkCompletedTime(machineData.completedTimeOnUtc) && {'color': 'red'}">Print ETA: {{machineData.completedTimeOnUtc | amDateFormat: 'hh:mm A'}}</p>
                <!-- <p *ngIf="machineData.processStatus >= 3 && machineData.processStatus < 7">Total: {{machineData.actualRT | number:'1.1-1'}} hrs</p> -->
                <p *ngIf="machineData.processStatus >= 3 && machineData.processStatus < 7">Print Completed: {{machineData.completedTimeOnUtc | amDateFormat: 'hh:mm A'}}</p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[9])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[10])">
                <p>Eta:
                  <span class="m-l-1" *ngIf="machineData.blankEstDeliveryDateFromOnUtc">{{machineData.blankEstDeliveryDateFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.blankEstDeliveryDateFromOnUtc">N/A</span>
                </p>
                <p class="m-0">
                  <span *ngIf="machineData.blankEstDeliveryDateToOnUtc">- {{machineData.blankEstDeliveryDateToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
                <p *ngIf="machineData.hasTscVendor">
                  , Warehouse
                </p>
                <p class="m-t-5 m-b-0">Rcvd:
                  <span class="m-l-1" *ngIf="machineData.blankReceivedDateFromOnUtc">{{machineData.blankReceivedDateFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.blankReceivedDateFromOnUtc">N/A</span>
                </p>
                <p class="m-b-0">
                  <span *ngIf="machineData.blankReceivedDateToOnUtc">- {{machineData.blankReceivedDateToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[10])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[11])">
                <p>STRT:
                  <span class="m-l-1" *ngIf="machineData.startShipDateOnUtc">{{machineData.startShipDateOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.startShipDateOnUtc">N/A</span>
                </p>
                <p>CNCL:
                  <span class="m-l-1" *ngIf="machineData.cancelDateOnUtc">{{machineData.cancelDateOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.cancelDateOnUtc">N/A</span>
                </p>
                <p *ngIf="machineData.isInDcOrder">LDSNE:
                  <span class="m-l-1" *ngIf="machineData.lastDateToShipOnUtc">{{machineData.lastDateToShipOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.lastDateToShipOnUtc">N/A</span>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[11])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[12])">
                <p *ngIf="machineData.neckLabelDateStatus">Sched:
                  <span class="m-l-1" *ngIf="machineData.neckLabelDateScheduledFromOnUtc">{{machineData.neckLabelDateScheduledFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.neckLabelDateScheduledFromOnUtc">N/A</span>
                </p>
                <p *ngIf="machineData.neckLabelDateStatus" class="m-0">
                  <span *ngIf="machineData.neckLabelDateScheduledToOnUtc">- {{machineData.neckLabelDateScheduledToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
                <p class="m-b-0" *ngIf="machineData.neckLabelDateStatus === taskStatus.PARTIAL">Part:
                  <span class="m-l-1" *ngIf="machineData.neckLabelDatePartialFromOnUtc">{{machineData.neckLabelDatePartialFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.neckLabelDatePartialFromOnUtc">N/A</span>
                </p>
                <p class="m-b-0"
                  *ngIf="machineData.neckLabelDateStatus === taskStatus.PARTIAL">
                  <span *ngIf="machineData.neckLabelDatePartialToOnUtc">- {{machineData.neckLabelDatePartialToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
                <p class="m-b-0" *ngIf="machineData.neckLabelDateStatus === taskStatus.DONE">Done:
                  <span class="m-l-1" *ngIf="machineData.neckLabelDateDoneFromOnUtc">{{machineData.neckLabelDateDoneFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.neckLabelDateDoneFromOnUtc">N/A</span>
                </p>
                <p class="m-b-0"
                  *ngIf="machineData.neckLabelDateStatus === taskStatus.DONE">
                  <span *ngIf="machineData.neckLabelDateDoneToOnUtc">- {{machineData.neckLabelDateDoneToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[12])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[13])">
                <p *ngIf="machineData.finishingDateStatus">Sched:
                  <span class="m-l-1" *ngIf="machineData.finishingDateScheduledFromOnUtc">{{machineData.finishingDateScheduledFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.finishingDateScheduledFromOnUtc">N/A</span>
                </p>
                <p *ngIf="machineData.finishingDateStatus" class="m-0">
                  <span *ngIf="machineData.finishingDateScheduledToOnUtc">- {{machineData.finishingDateScheduledToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
                <p *ngIf="machineData.finishingDateStatus" class="m-t-10 m-b-0">Done:
                  <span class="m-l-1" *ngIf="machineData.finishingDateDoneFromOnUtc">{{machineData.finishingDateDoneFromOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                  <span class="m-l-1" *ngIf="!machineData.finishingDateDoneFromOnUtc">N/A</span>
                </p>
                <p *ngIf="machineData.finishingDateStatus" class="m-0">
                  <span *ngIf="machineData.finishingDateDoneToOnUtc">- {{machineData.finishingDateDoneToOnUtc | amDateFormat: 'MM/DD/YY'}}</span>
                </p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[13])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[14])">
                <p class="p-link stt-color" [ngClass]="{'checkmark': machineData.isArtCompleted, 'disabled': !getIsModifyStatusBy('ART') || machineData.isArchived || isOnLateTab}" (click)="changeStatus(machineData, 0)">
                  ART <i class="fa fa-check" aria-hidden="true"></i></p>
                <p class="p-link stt-color" [ngClass]="{'checkmark': machineData.isScreensCompleted, 'disabled': !getIsModifyStatusBy('SCREENS') || machineData.isArchived || isOnLateTab}" (click)="changeStatus(machineData, 1)">
                  SCREENS <i class="fa fa-check" aria-hidden="true"></i></p>
                <p class="p-link stt-color" [ngClass]="{'checkmark': machineData.isInkCompleted, 'disabled': !getIsModifyStatusBy('INK') || machineData.isArchived || isOnLateTab}" (click)="changeStatus(machineData, 2)">
                  INK <i class="fa fa-check" aria-hidden="true"></i></p>
                <p class="p-link stt-color" [ngClass]="{'checkmark': machineData.isBlanksCompleted, 'disabled': !getIsModifyStatusBy('BLANKS') || machineData.isArchived || isOnLateTab}" (click)="changeStatus(machineData, 3)">
                  BLANKS <i class="fa fa-check" aria-hidden="true"></i></p>
                <p class="p-link stt-color"
                  [ngClass]="{'checkmark': machineData.isSampleCompleted, 'disabled': !getIsModifyStatusBy('SAMPLE') || machineData.isArchived || isOnLateTab, 'm-b-20': isAllowDrag}"
                  (click)="changeStatus(machineData, 4)">
                  SAMPLE <i class="fa fa-check" aria-hidden="true"></i></p>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[14])"></td>

              <td *ngIf="machineData && getIsViewColumn(colProp[15])">
                <p *ngIf="machineData.hasComments">
                  <i class="fa fa-comments fa-2x cursor" title="See Comments"
                     (click)="addComment(machineData, true)">
                  </i>
                </p>
                <button *ngIf="!isPageReadOnly && !machineData.isArchived" class="btn btn-small btn-success m-t-15"
                        (click)="addComment(machineData)">+ Add
                </button>
              </td>
              <td *ngIf="!machineData && getIsViewColumn(colProp[15])"></td>

              <td>
                <!-- <button class="btn btn-complete btn-xs" (click)="reassignStyle(dayData.date, rowData.machineName, machineData)" *ngIf="machineData" style="width: 65px">Reassign</button> -->
                <button class="btn btn-red btn-small"
                        *ngIf="machineData && !machineData.isArchived && !isOnLateTab &&
                              !isPageReadOnly &&
                              getIsModifyFunc('ProcessJob.Update') &&
                              machineData.processStatus >= 0 &&
                              (machineData.processStatus < 3 || machineData.processStatus === 7)"
                        (click)="checkConcurrent(machineData, rowData.machineData)">Process Job
                </button>
                <p *ngIf="machineData"
                  (click)="openHistory(machineData.id)"
                  class="m-t-15 p-link">History</p>
              </td>
            </tr>
            <tr [id]="i + '-' + ii + '-' + iii"
                *ngIf="machineData && machineData.isMaintenanceJob">
              <td [rowSpan]="rowData.machineData.length" *ngIf="!iii">{{rowData.machineName}}</td>

              <td *ngIf="getIsViewColumn(colProp[7]) || (!getIsViewColumn(colProp[7]) && totalColspan.first - 1 > 0)"
                  [attr.colspan]="getIsViewColumn(colProp[7]) ? (totalColspan.first - 1) : (totalColspan.first - 2)"
                  class="maintenance-job">
                {{machineData.specialTask}}
              </td>
              <td>
                <span>{{machineData.scheduledQty}}</span>
              </td>
              <td *ngIf="getIsViewColumn(colProp[8])" [title]="!isPageReadOnly ? 'Click to Edit' : ''" #runTime>
                <span *ngIf="machineData.runtime !== null" [ngClass]="{'p-link': !isPageReadOnly}"
                      (click)="showInput(runTime, 0)">RT: {{machineData.runtime ? machineData.runtime : 0.0}} hrs</span>
                <input #runTimeInput FloatNumber
                      class="runTimeInput"
                      [hidden]="true"
                      [value]="machineData.runtime"
                      (keyup)="invalidNumber(runTimeInput.value, 1)"
                      (keyup.esc)="runTimeInput.value = machineData.runtime; runTimeInput.blur();"
                      (keyup.enter)="runTimeInput.blur()"
                      (blur)="updateMaintenanceRunTime(runTimeInput, runTime, i, ii, iii)"/>
                <span class="text-danger" style="display: block" *ngIf="invalidNumber(runTimeInput.value, 1) === 1">
                  Invalid number!
                </span>
                <span class="text-danger" style="display: block" *ngIf="invalidNumber(runTimeInput.value, 1) === 2">
                  Run Time cannot exceed 100 hours!
                </span>
              </td>
              <td [attr.colspan]="getIsViewColumn(colProp[9]) ? totalColspan.second + 1 : totalColspan.second" class="maintenance-job">
                {{machineData.specialTask}}
              </td>
            </tr>
          </ng-template>
          <tr class="total-pieces" [id]="i + '-' + ii + '-n'">
            <td [attr.colspan]="totalColspan.first" class="align-right">MACHINE TOTAL</td>
            <td *ngIf="getIsViewColumn(colProp[7])">
              <ng-template [ngIf]="rowData.machineData[0]" [ngIfElse]="elseNoData">
                {{rowData.sumCompQty + ' / ' + rowData.sumSchedQty}}<br/>
                ({{(rowData.sumCompQty / rowData.sumSchedQty) * 100 | number:'1.1-1'}}%)
              </ng-template>
              <ng-template #elseNoData>
                0
              </ng-template>
            </td>
            <td *ngIf="getIsViewColumn(colProp[8])" style="border-right: 0px" [ngClass]="{'red-background': rowData.sumRunTime > 10.75}">{{rowData.sumRunTime | hrsToHrsMin}}</td>
            <td *ngIf="getIsViewColumn(colProp[9])" style="border-right: 0px" [ngClass]="{'red-background': rowData.sumActualRT > 10.75}">{{rowData.sumActualRT | hrsToHrsMin}}</td>
            <td style="border-left: 0px" [attr.colspan]="totalColspan.second"></td>
          </tr>
        </ng-template>
        <ng-template [ngIf]="!dayData.data.length">
          <tr class="header-daytime">
            <td [attr.colspan]="totalColspan.first + totalColspan.second + 3">
                {{dayData.date | amDateFormat: 'dddd' | uppercase}},
                {{ dayData.date | amDateFormat: 'MM/DD/YYYY'}}
            </td>
          </tr>
          <tr>
              <td colspan="18" class="not-sched-date">Nothing is scheduled for this date</td>
            </tr>
        </ng-template>
        <tr class="total-pieces" [id]="i + '-n-n'">
          <td [attr.colspan]="totalColspan.first" class="align-right">DAILY TOTALS</td>
          <td *ngIf="getIsViewColumn(colProp[7])">
            <ng-template [ngIf]="dayData.data.length" [ngIfElse]="elseNoData">
              {{dayData.totalsComp + ' / ' + dayData.totalsSched}}<br/>
              ({{(dayData.totalsComp / dayData.totalsSched) * 100 | number:'1.1-1'}}%)
            </ng-template>
            <ng-template #elseNoData>
              0
            </ng-template>
          </td>
          <td *ngIf="getIsViewColumn(colProp[8])" style="border-right: 0px">{{dayData.totalRuntime | hrsToHrsMin}}</td>
          <td *ngIf="getIsViewColumn(colProp[9])" style="border-right: 0px">{{dayData.totalActualRT | hrsToHrsMin}}</td>
          <td style="border-left: 0px" [attr.colspan]="totalColspan.second"></td>
        </tr>
      </ng-template>
      </tbody>
    </table>
  </perfect-scrollbar>
</div>
